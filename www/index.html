<!DOCTYPE html>
<html lang="ca">
<head>
  <meta charset="UTF-8">
  <title>tasklist v01 hector</title>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>

  <button id="afegirTasca">+</button>
  <h2>LLISTA DE TASQUES</h2>
  <ul id="llistaTasques">

  </ul>

  <script>
      function afegirBotonsTasca(lli) {

          let eliminar = document.createElement("button");
          eliminar.textContent = "X";
          eliminar.classList.add('eliminar');
          eliminar.onclick = function() { lli.remove(); };
          lli.appendChild(eliminar);


          let editar = document.createElement("button");
          editar.textContent = "edit";
          editar.classList.add('editar');
          editar.onclick = function() {
              let novaTasca = prompt("edita la tasca escollida", lli.firstChild.textContent);
              if (novaTasca) {
                  lli.firstChild.textContent = novaTasca;
              }
          };
          lli.appendChild(editar);
      }

      document.getElementById("afegirTasca").onclick = function() {
          let tasca = prompt("introdueix nova tasca: ");
          if (tasca) {
              let lli = document.createElement("li");
              lli.textContent = tasca;

              afegirBotonsTasca(lli);

              document.getElementById("llistaTasques").appendChild(lli);
          }
      };
  </script>

</body>
</html>

